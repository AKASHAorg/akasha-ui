---
title: Infinite Scroll
description: A component which virtualize large element lists
component: true
links:
  doc: https://tanstack.com/virtual/latest/docs/introduction
  api: https://tanstack.com/virtual/latest/docs/api/virtualizer
---

<ComponentPreview name="infinite-scroll-demo" />

## Installation

<Tabs defaultValue="cli">

<TabsList>
  <TabsTrigger value="cli">CLI</TabsTrigger>
  <TabsTrigger value="manual">Manual</TabsTrigger>
</TabsList>

<TabsContent value="cli">

```bash
npx shadcn@latest add "https://akasha-ui.pages.dev/r/styles/default/infinite-scroll.json"
```

</TabsContent>

<TabsContent value="manual">

<Steps>

<Step>Install the following dependencies:</Step>

```bash
npm install @tanstack/react-virtual
```

<Step>Copy and paste the following code into your project.</Step>

<ComponentSource name="infinite-scroll" />

<Step>Update the import paths to match your project setup.</Step>

</Steps>

</TabsContent>

</Tabs>

## Usage

```tsx
import {
  InfiniteScroll,
  InfiniteScrollList,
} from "<path-to-ui-components>/infinite-scroll";
```

```tsx
return (
    <InfiniteScroll
      count={count}
      estimatedHeight={100}
      overScan={10}
      gap={gap}
    >
       <InfiniteScrollList>
        {(index) => {
          return <div>{sentences[index]}</div>;
        }}
    </InfiniteScroll>
```

## Props

| Name              | Type                  | Description                                                                                                                                                                         |
| ----------------- | --------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| count             | `number`              | The total number of items to virtualize.                                                                                                                                            |
| estimatedHeight   | `number`              | Estimated height of each virtual item.                                                                                                                                              |
| lanes             | `number`              | The number of lanes the list is divided into.                                                                                                                                       |
| overScan          | `number`              | The number of items rendered above and below the visible area. A higher number reduces the chance of blank items during slow rendering but increases the virtualizer's render time. |
| gap               | number                | Set's the spacing between items in the virtualized list.                                                                                                                            |
| header            | `ReactNode`           | Component which is at the top of a virtual list. Including it inside the infinite scroll helps to accurately calculate the scroll restoration position.                             |
| hasNextPage       | `boolean`             | Determines there is a next page to be fetched in paginated query.                                                                                                                   |
| loading           | `boolean`             | Signals if a queried data is loading.                                                                                                                                               |
| loadingIndicator  | `ReactNode`           | Component used to represent loading data.                                                                                                                                           |
| scrollElementType | `window` or `element` | Type of scroll element for the virtualizer, determining whether it's element-based or window-based.                                                                                 |
| onLoadMore        | `() => void`          | Callback to load more data.                                                                                                                                                         |

<Callout>

The default value of `scrollElementType` is `window`

</Callout>

## Scroll Restoration

### Usage

```tsx
import {
  InfiniteScroll,
  InfiniteScrollList,
  ScrollRestoration,
} from "<path-to-ui-components>/infinite-scroll";
```

```tsx
return (
    <InfiniteScroll
      count={count}
      estimatedHeight={100}
      overScan={10}
      gap={gap}
    >
      <ScrollRestoration>
       <InfiniteScrollList>
        {(index) => {
          return <div>{sentences[index]}</div>;
        }}
      </ScrollRestoration>
    </InfiniteScroll>
```

### Props

| Name                     | Type     | Description                                                                                                      |
| ------------------------ | -------- | ---------------------------------------------------------------------------------------------------------------- |
| scrollConfigStorageKey   | `string` | Key used to store scroll restoration configuration.                                                              |
| lastScrollRestorationKey | `string` | Last scroll restoration prevents scroll restoration unless the user navigates back to the last key they visited. |

## Examples

### Element based scroll

<ComponentPreview name="infinite-scroll-element-demo" />
